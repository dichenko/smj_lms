# Пошаговый план выполнения проекта LMS Telegram

## 1. Подготовка окружения и репозитория

- [ ] Создать новый git-репозиторий для проекта.
- [ ] Настроить базовую структуру папок (`backend`, `frontend`).
- [ ] Добавить README.md с описанием архитектуры и целей.
- [ ] Завести файл `.env.example` с переменными окружения (токен Telegram-бота, ключи Cloudflare, пароль админа и т.д.).

---

## 2. Настройка Cloudflare Workers и базы данных D1

- [ ] Зарегистрировать аккаунт Cloudflare, создать проект Workers.
- [ ] Подключить Cloudflare D1 (создать базу данных).
- [ ] Описать и выполнить миграции для таблиц (`students`, `courses`, `lessons`, `reports`).
- [ ] Реализовать утилиты для работы с D1 (CRUD).

---

## 3. Разработка Telegram-бота (Worker)

- [ ] Зарегистрировать бота в BotFather, получить токен.
- [ ] Реализовать обработчик webhook в Cloudflare Worker:
    - [ ] Проверка TGID, авторизация ученика.
    - [ ] Обработка команд (`/start`, "Мои задания", "Сдать отчет", "История").
    - [ ] Загрузка и пересылка отчетов админу с подписью (имя, курс, урок).
    - [ ] Отправка уведомлений ученикам о новых уроках/статусах отчетов.
- [ ] Реализовать обработку ошибок с уведомлением админу.

---

## 4. Реализация backend API (для админки)

- [ ] Реализовать эндпоинты для управления учениками, курсами, уроками:
    - [ ] Добавление, удаление, редактирование студентов
    - [ ] Назначение студентов на курс
    - [ ] CRUD курсов и уроков
- [ ] Реализовать эндпоинты для управления и проверки отчетов:
    - [ ] Просмотр отчетов
    - [ ] Принятие/отклонение отчета с комментарием
    - [ ] Просмотр истории сдачи
    - [ ] Просмотр статистики по курсам/ученикам

---

## 5. Разработка frontend (админка)

- [ ] Инициализировать React-проект (например, через Vite).
- [ ] Реализовать форму авторизации для админа.
- [ ] Реализовать UI для управления учениками:
    - [ ] Добавление/удаление учеников
    - [ ] Назначение курсов
- [ ] Реализовать UI для управления курсами и уроками:
    - [ ] Добавление/редактирование курсов
    - [ ] Добавление/редактирование уроков (текст, ссылки)
- [ ] Реализовать раздел проверки отчетов:
    - [ ] Просмотр всех отчетов по фильтрам (ученик, курс, урок)
    - [ ] Принятие/отклонение отчетов с комментарием
    - [ ] Переход по ссылке на файл в Telegram
- [ ] Реализовать отчеты/статистику.
- [ ] Добавить отображение логов ошибок (для админа).

---

## 6. Интеграция и тестирование

- [ ] Протестировать всю бизнес-логику end-to-end (от сдачи отчета до проверки и уведомлений).
- [ ] Проверить пересылку файлов, корректность статусов, открытие новых уроков.
- [ ] Проверить корректную рассылку уведомлений при добавлении новых уроков.
- [ ] Проверить обработку ошибок и уведомления админу.

---

## 7. Деплой и настройка доменов

- [ ] Задеплоить backend (Worker) и frontend (Pages) на Cloudflare.
- [ ] Прописать адрес webhook для Telegram-бота.
- [ ] Проверить доступ к админке, подключение к API и базе.

---

## 8. Документация и инструкции

- [ ] Описать кратко логику работы в README.md.
- [ ] Добавить инструкцию по добавлению учеников и работе с ботом для админа.
- [ ] Описать, как добавлять новые курсы и уроки.

---

## 9. Передача проекта, отладка и поддержка

- [ ] Провести демо для заказчика (админа).
- [ ] Внести правки по обратной связи.
- [ ] Описать регламент по обновлению/бэкапу базы (D1).
- [ ] Настроить алерты по ошибкам (в Telegram админу).

---

